package de.photon.anticheataddition.modules.sentinel.exploits;

import de.photon.anticheataddition.ServerVersion;
import de.photon.anticheataddition.modules.ModuleLoader;
import org.bukkit.potion.PotionEffect;
import org.bukkit.potion.PotionEffectType;

public final class TrollPotionSentinel extends IllegalPotionSentinel
{
    public static final TrollPotionSentinel INSTANCE = new TrollPotionSentinel();

    private final int minEffectTime = loadInt(".min_effect_time", 500);

    private TrollPotionSentinel()
    {
        super("Exploits.TrollPotion");
    }

    @Override
    protected boolean isIllegalPotion(PotionEffect effect)
    {
        // Important: Use equals here to check for the PotionEffectType, as that is NOT an Enum!
        return (effect.getType().equals(PotionEffectType.BLINDNESS) || effect.getType().equals(PotionEffectType.CONFUSION)) &&
               effect.getDuration() >= minEffectTime;
    }
}
